(this.webpackJsonpwouldyourather=this.webpackJsonpwouldyourather||[]).push([[0],{32:function(e,t,a){e.exports=a(47)},37:function(e,t,a){},38:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),c=a.n(r),i=(a(37),a(6)),s=a(7),l=a(9),u=a(8),m=(a(38),a(5)),d=a(15),h=a(3),v=a(13),p=a.n(v),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.question;return o.a.createElement("div",{className:"question-card"},o.a.createElement("div",{className:"question-card-header"},o.a.createElement("div",{className:"question-card-image"},o.a.createElement("img",{alt:t.name,src:"".concat(t.avatarURL)})),o.a.createElement("div",{className:"question-card-author"},o.a.createElement("p",null,t.name,o.a.createElement("br",null),o.a.createElement("small",null,"@",t.id))),o.a.createElement("div",{className:"clear-float"}),o.a.createElement("div",null,"Would you rather?")),o.a.createElement("div",{className:"question-card-body"},o.a.createElement("div",{className:"question-card-option"},a.optionOne.text),o.a.createElement("div",{className:"question-card-option"},a.optionTwo.text),o.a.createElement("div",{className:"clear-float"})),o.a.createElement("div",{className:"question-card-footer"},o.a.createElement(d.b,{to:"/question/".concat(a.id)},o.a.createElement("div",{className:"question-card-answer"},"View Poll"))))}}]),a}(o.a.Component);var f=Object(m.connect)((function(e,t){var a=e.authUser,n=e.users,o=t.question;return{authUser:a,question:o,user:n[o.author]}}))(b),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showAnswered:!1},e.toggleQuestions=function(t){var a=e.state.showAnswered;a!==t&&e.setState({showAnswered:!a})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.showAnswered,a=this.props,n=a.questions,r=a.users[a.authUser].answers;return n=t?n.filter((function(e){var t=!1;return Object.keys(r).forEach((function(a){if(a===e.id)return t=!0,!0})),t})):n.filter((function(e){var t=!0;return Object.keys(r).forEach((function(a){if(a===e.id)return t=!1,!0})),t})),o.a.createElement("div",null,o.a.createElement("div",{className:"toggle-questions"},o.a.createElement("ul",{type:"none",className:"toggle-button"},o.a.createElement("li",{style:{backgroundColor:!t&&"rgb(33, 95, 182)"},onClick:function(){return e.toggleQuestions(!1)}},"Unanswered"),o.a.createElement("li",{style:{backgroundColor:t&&"rgb(33, 95, 182)"},onClick:function(){return e.toggleQuestions(!0)}},"Answered"))),o.a.createElement("ul",{type:"none"},n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(f,{question:e,allowAnswer:!1}))}))))}}]),a}(o.a.Component);var O=Object(m.connect)((function(e){var t=e.questions,a=e.authUser,n=e.users;return{questions:Object.keys(t).map((function(e){return t[e]})).sort((function(e,t){return t.timestamp-e.timestamp})),authUser:a,users:n}}))(E);function j(e){var t=e.name;return o.a.createElement("nav",{className:"nav"},o.a.createElement("ul",{type:"none",style:{padding:0}},o.a.createElement("li",null,o.a.createElement(d.c,{to:"/",exact:!0,activeClassName:"active"},"Home")),o.a.createElement("li",null,o.a.createElement(d.c,{to:"/new",activeClassName:"active"},"New Question"))),o.a.createElement("div",{className:"nav-logout"},t&&o.a.createElement("div",null,"Hello ",t,o.a.createElement("button",{onClick:e.logoutUser},"Logout"))),o.a.createElement("div",{className:"clear-float"}))}var g=a(31),w=a(4),y=a(1),q={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://avatars0.githubusercontent.com/u/50275510?s=460&u=a0f0333c159e5a75f3b54c167066e6c2198bc940&v=4",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]},vivekvt:{id:"vivekvt",name:"Vivek VT",avatarURL:"https://avatars0.githubusercontent.com/u/50275510?s=460&u=a0f0333c159e5a75f3b54c167066e6c2198bc940&v=4",answers:{xj352vofupe1dqz9emx13r:"optionOne"},questions:["xj352vofupe1dqz9eqwe23"]}},U={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}},xj352vofupe1dqz9eqwe23:{id:"xj352vofupe1dqz9eqwe23",author:"vivekvt",timestamp:1494579767190,optionOne:{votes:[],text:"Node"},optionTwo:{votes:[],text:"PHP"}}};function x(e){return new Promise((function(t,a){var n=e.author,o=function(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout((function(){U=Object(y.a)(Object(y.a)({},U),{},Object(w.a)({},o.id,o)),q=Object(y.a)(Object(y.a)({},q),{},Object(w.a)({},n,Object(y.a)(Object(y.a)({},q[n]),{},{questions:q[n].questions.concat([o.id])}))),t(o)}),1e3)}))}function T(e){return function(e){var t=e.authUser,a=e.id,n=e.answer;return console.log(t),new Promise((function(e,o){setTimeout((function(){q=Object(y.a)(Object(y.a)({},q),{},Object(w.a)({},t,Object(y.a)(Object(y.a)({},q[t]),{},{answers:Object(y.a)(Object(y.a)({},q[t].answers),{},Object(w.a)({},a,n))}))),U=Object(y.a)(Object(y.a)({},U),{},Object(w.a)({},a,Object(y.a)(Object(y.a)({},U[a]),{},Object(w.a)({},n,Object(y.a)(Object(y.a)({},U[a][n]),{},{votes:U[a][n].votes.concat([t])}))))),e()}),500)}))}(e)}function N(e){return{type:"UNSET_AUTHED_USER",id:e}}function S(e){return function(t){return t(Object(v.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(y.a)({},q))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(y.a)({},U))}),1e3)}))]).then((function(e){var t=Object(g.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(a){var n=a.users,o=a.questions;t(function(e){return{type:"RECEIVE_USERS",users:e}}(n)),t(function(e){return{type:"RECEIVE_QUESTIONS",questions:e}}(o)),t({type:"SET_AUTHED_USER",id:e}),t(Object(v.hideLoading)())}))}}function k(e,t){return function(a,n){var o,r=n().authUser;return a(Object(v.showLoading)()),(o={optionOneText:e,optionTwoText:t,author:r},x(o)).then((function(e){var t;console.log("quesvee---",e),a(function(e){return{type:"ADD_QUESTION",question:e}}(e)),a({type:"UPDATE_USER_QUESTIONS",question:(t={question:e,authUser:r}).question,authUser:t.authUser})})).then((function(){return a(Object(v.hideLoading)())}))}}function C(e){return function(t){return t(Object(v.showLoading)()),T(e).then((function(a){t(function(e){var t=e.authUser;return{type:"ANSWER_QUESTION",id:e.id,authUser:t,answer:e.answer}}(e)),t(function(e){var t=e.authUser;return{type:"UPDATE_USER_ANSWERS",id:e.id,authUser:t,answer:e.answer}}(e))})).then((function(e){t(Object(v.hideLoading)())})).catch((function(e){console.warn("Error in handleAnswerQuestion",e),alert("There was an error"),t(Object(v.hideLoading)())}))}}var A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={answer:""},e.calculateVote=function(e,t){var a,n=e.optionOne.votes,o=e.optionTwo.votes,r=n.length+o.length,c=!1;return void 0!==t.answers[e.id]&&(c=!0),a=0===n.length&&o.length>0?100:o.length/r*100,{votesOneP:{percentage:0===o.length&&n.length>0?100:n.length/r*100,numberOfVote:n.length},votesTwoP:{percentage:a,numberOfVote:o.length},answered:c}},e.handleChange=function(t){var a=t.target.value;e.setState({answer:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.answer,n=e.props,o=n.dispatch,r=n.question;o(C({authUser:n.user.id,id:r.id,answer:a}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.author,a=e.user,n=e.question,r=this.calculateVote(n,a),c=r.answered,i=r.votesOneP,s=r.votesTwoP;return o.a.createElement("div",{className:"question-card"},o.a.createElement("div",{className:"question-card-header"},o.a.createElement("div",{className:"question-card-image"},o.a.createElement("img",{alt:t.name,src:"".concat(t.avatarURL)})),o.a.createElement("div",{className:"question-card-author"},o.a.createElement("p",null,t.name,o.a.createElement("br",null),o.a.createElement("small",null,"@",t.id))),o.a.createElement("div",{className:"clear-float"}),o.a.createElement("div",null,"Would you rather?")),c?o.a.createElement("div",{className:"question-card-body"},o.a.createElement("div",{className:"question-card-option"},o.a.createElement("div",null,"Would you rather ",n.optionOne.text,"?"),o.a.createElement("div",{className:"poll-outer"},o.a.createElement("div",{className:"poll-inner",style:{width:"".concat(i.percentage,"%")}},i.percentage.toFixed(2),"%")),o.a.createElement("div",null,i.numberOfVote," out of ",i.numberOfVote+s.numberOfVote)),o.a.createElement("div",{className:"question-card-option"},o.a.createElement("div",null,"Would you rather ",n.optionTwo.text,"?"),o.a.createElement("div",{className:"poll-outer"},o.a.createElement("div",{className:"poll-inner",style:{width:"".concat(s.percentage,"%")}},s.percentage.toFixed(2),"%")),o.a.createElement("div",null,s.numberOfVote," out of ",i.numberOfVote+s.numberOfVote)),o.a.createElement("div",{className:"clear-float"})):o.a.createElement("div",{className:"question-card-body"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"question-card-option"},o.a.createElement("input",{onChange:this.handleChange,type:"radio",id:"optionOne",name:"option",value:"optionOne",required:!0}),o.a.createElement("label",{for:"optionOne"},n.optionOne.text)),o.a.createElement("div",{className:"question-card-option"},o.a.createElement("input",{onChange:this.handleChange,type:"radio",id:"optionTwo",name:"option",value:"optionTwo",required:!0}),o.a.createElement("label",{for:"optionTwo"},n.optionTwo.text)),o.a.createElement("div",{className:"clear-float"}),o.a.createElement("div",{className:"question-card-footer",style:{textAlign:"center"}},o.a.createElement("button",{type:"submit",className:"new-question-card-answer"},"SUBMIT")))))}}]),a}(o.a.Component);var R=Object(m.connect)((function(e,t){var a=e.authUser,n=e.users,o=e.questions[t.id],r=n[a];return{author:n[o.author],question:o,user:r}}))(A),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.match.params.id;return o.a.createElement("div",null,void 0!==e&&o.a.createElement(R,{id:e}))}}]),a}(o.a.Component),z=Object(m.connect)()(_),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={optionOne:"",optionTwo:"",toHome:!1},e.handleChange=function(t){var a=t.target,n=a.value,o=a.name;e.setState(Object(w.a)({},o,n))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.optionOne,o=a.optionTwo,r=e.props.dispatch;""!==n&&""!==o&&(r(k(n,o)),e.setState({optionOne:"",optionTwo:"",toHome:!0}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.optionOne,a=e.optionTwo;return!0===e.toHome?o.a.createElement(h.a,{to:"/"}):o.a.createElement("div",{className:"question-card"},o.a.createElement("div",{className:"question-card-header"},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h1",null,"Would you rather?"))),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"question-card-body"},o.a.createElement("input",{onChange:this.handleChange,className:"new-question-input",type:"text",placeholder:"Option 1",name:"optionOne",value:t,required:!0}),o.a.createElement("input",{onChange:this.handleChange,className:"new-question-input",type:"text",placeholder:"Option 2",name:"optionTwo",value:a,required:!0}),o.a.createElement("div",{className:"clear-float"})),o.a.createElement("div",{className:"question-card-footer",style:{textAlign:"center"}},o.a.createElement("button",{type:"submit",className:"new-question-card-answer"},"SUBMIT"))))}}]),a}(o.a.Component),D=Object(m.connect)()(P),V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={id:""},e.handleChange=function(t){var a=t.target.value;e.setState({id:a})},e.loginUser=function(t){t.preventDefault();var a=e.state.id;""!==a?(e.props.dispatch(S(a)),e.props.history.push("/")):alert("Please Select User")},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-div"},o.a.createElement("h1",null,"Would You Rather ?"),o.a.createElement("form",{onSubmit:this.loginUser},o.a.createElement("select",{onChange:this.handleChange,value:this.state.id},o.a.createElement("option",{value:""},"Select User"),o.a.createElement("option",{value:"vivekvt"},"vivekvt"),o.a.createElement("option",{value:"tylermcginnis"},"tylermcginnis"),o.a.createElement("option",{value:"sarahedo"},"sarahedo"),o.a.createElement("option",{value:"johndoe"},"johndoe")),o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Login")))}}]),a}(o.a.Component),I=Object(h.f)(Object(m.connect)()(V)),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).logoutUser=function(){e.props.dispatch(N(null))},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null),o.a.createElement("div",{className:"container"},!0===this.props.loading?o.a.createElement(o.a.Fragment,null,o.a.createElement(h.b,{exact:!0,path:"/login",component:I}),o.a.createElement(h.a,{to:"/login"})):o.a.createElement("div",null,o.a.createElement(j,{logoutUser:this.logoutUser,name:!1===this.props.loading&&this.props.user.name}),o.a.createElement(h.b,{exact:!0,path:"/",component:O}),o.a.createElement(h.b,{exact:!0,path:"/question/:id",component:z}),o.a.createElement(h.b,{exact:!0,path:"/new",component:D})))))}}]),a}(o.a.Component);var Q=Object(m.connect)((function(e){var t=e.authUser;return{loading:null===t,user:e.users[t]}}))(L),H=a(16);var W=Object(H.c)({authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHED_USER":case"UNSET_AUTHED_USER":return t.id;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_USERS":return Object(y.a)(Object(y.a)({},e),t.users);case"UPDATE_USER_ANSWERS":return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},t.authUser,Object(y.a)(Object(y.a)({},e[t.authUser]),{},{answers:Object(y.a)(Object(y.a)({},e[t.authUser].answers),{},Object(w.a)({},t.id,t.answer))})));case"UPDATE_USER_QUESTIONS":return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},t.authUser,Object(y.a)(Object(y.a)({},e[t.authUser]),{},{questions:e[t.authUser].questions.concat([t.question.id])})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_QUESTIONS":return Object(y.a)(Object(y.a)({},e),t.questions);case"ADD_QUESTION":return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},t.question.id,t.question));case"ANSWER_QUESTION":return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},t.id,Object(y.a)(Object(y.a)({},e[t.id]),{},Object(w.a)({},t.answer,Object(y.a)(Object(y.a)({},e[t.id][t.answer]),{},{votes:e[t.id][t.answer].votes.concat([t.authUser])})))));default:return e}},loadingBar:v.loadingBarReducer}),B=function(e){return function(t){return function(a){console.group(a.type),console.log("The action: ",a);var n=t(a);return console.log("The new state: ",e.getState()),console.groupEnd(),n}}},M=a(30),F=Object(H.a)(M.a,B),J=Object(H.d)(W,F);c.a.render(o.a.createElement(m.Provider,{store:J},o.a.createElement(Q,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.90348b09.chunk.js.map